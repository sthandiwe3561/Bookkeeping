{% extends "bookkeeping/layout.html" %} 
{% block body %}
<div class="customers">
<h1>Customers Management</h1>
<div class="form">
  {% if error %}
  <div class="alert alert-danger">{{ error }}</div>
{% endif %}
{% if success %}
  <div class="alert alert-success">{{ success }}</div>
{% endif %}<form action="" method="POST">
  {% csrf_token %}

  <div class="form-group mt-2">
    <label>Full Name:</label>
    <input type="text" id="name" name="name" placeholder="Full Name"
           value="{{ post.name|default:'' }}" />
  </div>

  <div class="form-group mt-2">
    <label>Email:</label>
    <input type="text" id="email" name="email" placeholder="Email"
           value="{{ post.email|default:'' }}" />
  </div>

  <div class="form-group mt-2">
    <label>Phone Number:</label>
    <input type="tel" id="phoneNo" name="phoneNo" placeholder="Phone Number"
           value="{{ post.phone_no|default:'' }}" />
  </div>

  <div class="form-group mt-2">
    <label>Estate Name:</label>
    <input type="text" id="estate" name="estate" placeholder="Estate"
           value="{{ post.estate|default:'' }}" />
  </div>

  <div class="form-group mt-2">
    <label>Plot No:</label>
    <input type="number" id="plot" name="plot" placeholder="Plot Number"
           value="{{ post.plot_no|default:'' }}" />
  </div>

  <button type="submit" class="btn btn-primary">
    {% if post %}Update{% else %}Add{% endif %}
  </button>
</form>
</div>

<div class="customersList">
  <h2>Customer List</h2>
  {% for customer in customers %}
    <h2>{{ customer.name }}</h2>
    <li> {{ customer.email }} </li>
    <li>{{ customer.phone_no }}</li>
    <li>{{customer.estate}}</li>
    <li>{{customer.plot_no}}</li>
<a href="{% url 'customer_delete' customer.id %}" class="btn btn-outline-primary">Delete</a>
<a href="{% url 'customer_form_edit' customer.id %}" class="btn btn-outline-primary">Edit</a>


  {% empty %}
    <p>No customers found.</p>
  {% endfor %}
</div>
</div>
{% endblock %}